# API del juego hunde la flota


| Método HTTP | URI                                              | Query Params | Cuerpo de la Petición                                                                                         | Cuerpo de la Respuesta                                                                                                                                                                                             | Códigos de Respuesta                                                                                                 |
|-------------|--------------------------------------------------|--------------|---------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| POST        | /users                                           | N/A          | `{"username": "alice", "email": "alvaro.garcia682@comunidadunir.net", "password": "secret"}`                                    | `{"userId": 1001, "username": "alice", "email": "alvaro.garcia682@comunidadunir.net"}`                                                                                                                                                | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error                                                          |
| GET         | /users/{userId}                                   | N/A          | N/A                                                                                                           | `{"userId": 1001, "username": "alice", "email": "alvaro.garcia682@comunidadunir.net"}`                                                                                                                                                | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| DELETE      | /users/{userId}                                   | N/A          | N/A                                                                                                           | `{"message": "User deleted"}`                                                                                                                                                                                      | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| POST        | /games                                            | N/A          | `{"players": [{"userId": 1001}, {"name": "GuestPlayer"}]}` (ejemplo con un usuario registrado y un invitado)  | `{"gameId": 2001, "status": "created", "players": [{"playerId": 1, "userId":1001}, {"playerId": 2, "name":"GuestPlayer"}], "shots": [], "winner": null}`                                                           | 201 Created<br/>400 Bad Request<br/>500 Internal Server Error                                                          |
| DELETE      | /games/{gameId}                                   | N/A          | N/A                                                                                                           | `{"message": "Game deleted"}`                                                                                                                                                                                      | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| PATCH       | /games/{gameId}                                   | N/A          | `{"status": "started"}` (ejemplo para iniciar la partida)                                                     | `{"gameId": 2001, "status": "started", ...}` (todos los datos del juego actualizados)                                                                                                                              | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error                                              |
| PATCH       | /games/{gameId}                                   | N/A          | `{"status": "finished", "winner": {"playerId": 1}}` (ejemplo para finalizar la partida con ganador)           | `{"gameId": 2001, "status": "finished", "winner": {"playerId": 1}, ...}`                                                                                                                                            | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error                                              |
| GET         | /games/{gameId}                                   | N/A          | N/A                                                                                                           | `{"gameId": 2001, "status": "started", "players": [...], "shots": [...], "winner": null}`                                                                                                                            | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| POST        | /games/{gameId}/players/{playerId}/ships          | N/A          | `{"type": "cruiser", "coordinates": [{"x":1,"y":1},{"x":1,"y":2},{"x":1,"y":3}]}`                             | `{"shipId": 3001, "type": "cruiser", "coordinates": [{"x":1,"y":1},{"x":1,"y":2},{"x":1,"y":3}]}`                                                                                                                   | 201 Created<br/>400 Bad Request<br/>404 Not Found (Game/Player no existe)<br/>422 Unprocessable Entity (reglas barcos)<br/>500 Internal Server Error |
| DELETE      | /games/{gameId}/players/{playerId}/ships/{shipId} | N/A          | N/A                                                                                                           | `{"message": "Ship removed"}`                                                                                                                                                                                      | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| GET         | /games/{gameId}/players/{playerId}/ships          | N/A          | N/A                                                                                                           | `{"ships":[{"shipId":3001,"type":"cruiser","coordinates":[...]}]}`                                                                                                                                                | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                                                                |
| POST        | /games/{gameId}/shots                             | N/A          | `{"shooterPlayerId": 1, "targetCoordinates": {"x":5,"y":5}}`                                                  | `{"shotId":4001,"shooterPlayerId":1,"targetCoordinates":{"x":5,"y":5},"hit":true,"sunkShip":false}`                                                                                                                 | 201 Created<br/>400 Bad Request<br/>404 Not Found (Game/Player no existe)<br/>500 Internal Server Error |
