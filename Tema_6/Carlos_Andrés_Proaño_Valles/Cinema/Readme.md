# API de un sistema de reserva de butacas de cine

En este ejercicio vamos a diseñar la API REST para el cine en el que venimos trabajando en los ejercicios de los anteriores temas.

Las operaciones que la API debe soportar son las siguientes:
- Crear, eliminar y modificar películas.
- Crear, eliminar y modificar (parcialmente) salas.
- Crear, eliminar y modificar (parcialmente) usuarios.
- Crear una reserva para un usuario en una sala.
- Cancelar una reserva para un usuario en una sala.
- Modificar una reserva para un usuario en una sala.
- Registrar un pago de una reserva.

**Recursos identificados:**
- Usuario (users): Representa un usuario del sistema.
- Salas (rooms): Representa una sala del cine.
- Películas (movies): Representa una película del cine.
- Reservas (books): Representa una reserva de una sala para ver una película  por parte de un usuario.
- Pagos (payments): Representa un pago de una reserva.

| Método Http | Endpoint                    | Query Params                                        | Cuerpo JSON de la petición                              | Respuesta JSON de la petición                                                                                                                                 | Códigos HTTP de respuesta posibles                     |
|-------------|-----------------------------|-----------------------------------------------------|---------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
| POST        | /users                      |                                                     | `{ "name": "string", "email": "string", "password": "string" }` | `{ "id": "integer", "name": "string", "email": "string" }`                                                                                                        | 201 Created, 400 Bad Request, 500 Internal Server Error                           |
| PATCH       | /users/{userId}                 |                                                     | `{ "password": "string" }` | `{ "id": "integer", "name": "string", "email": "string" }`                                                                                                        | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error
| DELETE      | /users/{userId}                 |                                                     |                                                         | `{ "message": "User deleted successfully" }`                                                                                                                      | 200 OK, 404 Not Found, 500 Internal Server Error                                  |
| POST        | /rooms                      |                                                     | `{ "name": "string", "capacity": "integer" }` | `{ "id": "integer", "name": "string", "capacity": "integer" }`                                                                                                        | 201 Created, 400 Bad Request, 500 Internal Server Error                           |
| PATCH       | /rooms/{roomId}                 |                                                     | `{ "name": "string" }` | `{ "id": "integer", "name": "string", "capacity": "number" }`                                                                                                        | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error                 |
| DELETE      | /rooms/{roomId}                 |                                                     |                                                         | `{ "message": "Room deleted successfully" }`                                                                                                                      | 200 OK, 404 Not Found, 500 Internal Server Error                                  |
| POST        | /movies                      |                                                     | `{ "title": "string", "picture": "string", "synopsis": "string", "duration": "string", "genre": "string", "score": "string" }` | `{ "id": "integer", "title": "string", "picture": "string", "synopsis": "string", "duration": "string", "genre": "string", "score": "string" }`                                                                                                        | 201 Created, 400 Bad Request, 500 Internal Server Error                           |
| PUT       | /movies/{movieId}                 |                                                     | `{ "title": "string", "picture": "string", "synopsis": "string", "duration": "string", "genre": "string", "score": "string" }` | `{ "id": "integer", "title": "string", "picture": "string", "synopsis": "string", "duration": "string", "genre": "string", "score": "string" }`                                                                                                        | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error
| DELETE      | /movies/{movieId}                 |                                                     |                                                         | `{ "message": "Movie deleted successfully" }`                                                                                                                      | 200 OK, 404 Not Found, 500 Internal Server Error                                  |
| POST        | /users/{userId}/books      |                                                     | `{ "room_id": "integer", "movie_id": "integer", "seats": "integer", "book_date": "string" }`        | `{ "id": "integer", "user_id": "integer", "room_id": "integer", "movie_id": "integer", "seats": "integer", "book_date": "string" }`                                      | 201 Created, 400 Bad Request, 404 Not Found, 500 Internal Server Error            |
| PUT       | /users/{userId}/books/{bookId}                 |                                                     |  `{ "room_id": "integer", "movie_id": "integer", "seats": "integer", "book_date": "string" }`        | `{ "id": "integer", "user_id": "integer", "room_id": "integer", "movie_id": "integer", "seats": "integer", "book_date": "string" }`                                                                                                       | 200 OK, 400 Bad Request, 404 Not Found, 500 Internal Server Error
| DELETE      | /users/{userId}/books/{bookId}                 |                                                     |                                                         | `{ "message": "Book deleted successfully" }`                                                                                                                      | 200 OK, 404 Not Found, 500 Internal Server Error                                  |
| POST         | /users/payments      |                                             | `{ "book_id": "integer", "amount": "string", "payment_method": "string" }` | `{ "message": "Payment registered succesfully" }`                                                                        | 201 Created, 400 Bad Request, 500 Internal Server Error                                  |
